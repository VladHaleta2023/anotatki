(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{5830:(e,t,s)=>{Promise.resolve().then(s.bind(s,6260))},6260:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(5155),i=s(2115);s(3574);var o=s(63),n=s(6246),r=s(6096),c=s(436),l=s(6162),m=s(2087),u=s(7846);function g(){let e=(0,o.useRouter)(),[t,s]=(0,i.useState)(""),[g,p]=(0,i.useState)(!0),[v,d]=(0,i.useState)(!1),[S,h]=(0,i.useState)(null),[x,N]=(0,i.useState)(null),[C,y]=(0,i.useState)(null),[I,f]=(0,i.useState)(null),j=(0,i.useCallback)(()=>"Main Body"===S,[S]);async function T(){try{j()?await m.v.createCategory(t)&&e.push("/"):S&&await u.s.createTopic(S,t)&&e.push("/")}catch(n){var s,a,i,o;let e=(null==(s=n.response)?void 0:s.status)||500,t=(null==(o=n.response)||null==(i=o.data)||null==(a=i.message)?void 0:a[0])||"Unknown error";(0,l.A)(e,t),sessionStorage.setItem("adminStatus","false")}}return(0,i.useEffect)(()=>{(()=>{if(!(0,r.S0)()){sessionStorage.setItem("adminStatus","false"),e.push("/");return}sessionStorage.setItem("adminStatus","true"),d(!0);let t=sessionStorage.getItem("activeCategory"),s=sessionStorage.getItem("activeCategoryName"),a=sessionStorage.getItem("activeTopic"),i=sessionStorage.getItem("activeTopicName");h(t),N(s),y(a),f(i),p(!1)})()},[e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{visible:!1,isAdminOn:v,activeCategory:S,activeCategoryName:x,activeTopic:C,activeTopicName:I,updateSelection:(e,t,s,a)=>{h(e),N(t),y(s),f(a),e?sessionStorage.setItem("activeCategory",e):sessionStorage.removeItem("activeCategory"),t?sessionStorage.setItem("activeCategoryName",t):sessionStorage.removeItem("activeCategoryName"),s?sessionStorage.setItem("activeTopic",s):sessionStorage.removeItem("activeTopic"),a?sessionStorage.setItem("activeTopicName",a):sessionStorage.removeItem("activeTopicName")}}),g?(0,a.jsx)("main",{children:(0,a.jsx)(c.A,{})}):(0,a.jsx)("main",{children:(0,a.jsx)("div",{className:"form",children:(0,a.jsxs)("div",{className:"formTable no-select",children:[(0,a.jsx)("div",{className:"title",children:j()?"Kategoria":"Temat"}),(0,a.jsx)("textarea",{id:"textarea",name:"textarea",className:"inputCustomText",value:t,onChange:e=>s(e.target.value),placeholder:"Wprowadź tekst..."}),(0,a.jsxs)("div",{className:"btnsSwitchPopUp",style:{marginTop:"20px"},children:[(0,a.jsx)("button",{style:{width:"120px",maxWidth:"120px"},className:"btnSwicthPopUp confirm",onClick:T,children:"Dodać"}),(0,a.jsx)("button",{style:{width:"120px",maxWidth:"120px"},className:"btnSwicthPopUp cancel-on-white",onClick:function(){e.push("/")},children:"Anuluj"})]})]})})})]})}}},e=>{e.O(0,[566,8,977,242,441,255,358],()=>e(e.s=5830)),_N_E=e.O()}]);