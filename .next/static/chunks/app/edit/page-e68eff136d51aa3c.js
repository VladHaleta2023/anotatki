(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{4429:(e,t,a)=>{Promise.resolve().then(a.bind(a,9396))},9396:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),i=a(2115);a(3574);var n=a(63),o=a(6246),r=a(6096),l=a(436),c=a(6162),u=a(2087),m=a(7846);function d(){let e=(0,n.useRouter)(),[t,a]=(0,i.useState)(!0),[d,p]=(0,i.useState)(!1),[g,v]=(0,i.useState)(null),[h,x]=(0,i.useState)(null),[S,N]=(0,i.useState)(null),[j,y]=(0,i.useState)(null);function C(){S?(N(""),y(null)):(v("Main Body"),x("Kategorie"),N(""),y(null),sessionStorage.setItem("activeCategory","Main Body"),sessionStorage.setItem("activeCategoryName","Kategorie")),sessionStorage.removeItem("activeTopic"),sessionStorage.removeItem("activeTopicName")}async function f(){try{S&&j&&g?await m.s.updateTopic(g,S,j)&&(C(),e.push("/")):g&&h?await u.v.updateCategory(g,h)&&(C(),e.push("/")):(C(),e.push("/"))}catch(o){var t,a,s,i;let e=(null==(t=o.response)?void 0:t.status)||500,n=(null==(i=o.response)||null==(s=i.data)||null==(a=s.message)?void 0:a[0])||"Unknown error";(0,c.A)(e,n),sessionStorage.setItem("adminStatus","false")}}return((0,i.useEffect)(()=>{(async()=>{let t=(0,r.S0)();if(p(t),t)sessionStorage.setItem("adminStatus","true");else{sessionStorage.setItem("adminStatus","false"),e.push("/");return}let s=sessionStorage.getItem("activeCategory"),i=sessionStorage.getItem("activeCategoryName"),n=sessionStorage.getItem("activeTopic"),o=sessionStorage.getItem("activeTopicName");v(s),x(i),N(n),y(o),a(!1)})()},[e]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{isAdminOn:d,visible:!1,activeCategory:g,activeCategoryName:h,activeTopic:S,activeTopicName:j,updateSelection:(e,t,a,s)=>{v(e),x(t),N(a),y(s)}}),(0,s.jsx)("main",{children:(0,s.jsx)(l.A,{})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{isAdminOn:d,visible:!1,activeCategory:g,activeCategoryName:h,activeTopic:S,activeTopicName:j,updateSelection:(e,t,a,s)=>{v(e),x(t),N(a),y(s)}}),(0,s.jsx)("main",{children:(0,s.jsx)("div",{className:"form",children:(0,s.jsxs)("div",{className:"formTable no-select",children:[S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"title",children:"Temat"}),(0,s.jsx)("textarea",{id:"textarea",name:"textarea",className:"inputCustomText",value:j||"",onChange:e=>y(e.target.value),placeholder:"Wprowadź tekst..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"title",children:"Kategoria"}),(0,s.jsx)("textarea",{id:"textarea",name:"textarea",className:"inputCustomText",value:h||"",onChange:e=>x(e.target.value),placeholder:"Wprowadź tekst..."})]}),(0,s.jsxs)("div",{className:"btnsSwitchPopUp",style:{marginTop:"20px"},children:[(0,s.jsx)("button",{style:{width:"200px",maxWidth:"200px"},className:"btnSwicthPopUp confirm",onClick:f,children:"Aktualizować"}),(0,s.jsx)("button",{style:{width:"120px",maxWidth:"120px"},className:"btnSwicthPopUp cancel-on-white",onClick:function(){C(),e.push("/")},children:"Anuluj"})]})]})})})]})}}},e=>{e.O(0,[566,8,977,242,441,255,358],()=>e(e.s=4429)),_N_E=e.O()}]);