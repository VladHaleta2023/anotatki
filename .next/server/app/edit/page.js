(()=>{var e={};e.id=831,e.ids=[831],e.modules={363:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});var r=s(5803),a=s(2927);class n{constructor(){}static handleError(e){let t=e.response?.status||500,s=Array.isArray(e.response?.data?.message)?e.response?.data?.message[0]:e.response?.data?.message||"Unknown error";(0,a.A)(t,s)}static handleResponseMessage(e,t){let s=Array.isArray(t)?t[0]:t||"OK";(0,a.A)(e,s)}static async request(e,t,s){try{let a;switch(e){case"get":a=await r.A.get(t);break;case"post":a=await r.A.post(t,s);break;case"put":a=await r.A.put(t,s);break;case"delete":a=await r.A.delete(t);break;default:throw Error("Unsupported method")}return a.data}catch(e){return this.handleError(e),null}}static async fetchTopics(e){try{let t=await this.request("get",`/categories/${e}/topics`);if(t&&200===t.statusCode&&t.data)return t.data;let s=t?.message?.[0]||"Unknown error";return(0,a.A)(t?.statusCode||500,s),[]}catch(e){return(0,a.A)(500,String(e)),[]}}static async createTopic(e,t){let s=await this.request("post",`/categories/${e}/topics`,{title:t});return!!s&&(this.handleResponseMessage(s.statusCode||200,s.message),!0)}static async fetchTopicByIdTitle(e,t){if(!t||"Main Body"===t)return"";try{let s=await this.request("get",`/categories/${e}/topics/${t}`);if(s&&200===s.statusCode&&s.data?.current)return s.data.current.title;let r=s?.message?.[0]||"Unknown error";return(0,a.A)(s?.statusCode||500,r),""}catch(e){return(0,a.A)(500,String(e)),""}}static async fetchTopicById(e,t){if(!t||"Main Body"===t)return null;try{let s=await this.request("get",`/categories/${e}/topics/${t}`);if(s&&200===s.statusCode&&s.data?.current)return s.data;let r=s?.message?.[0]||"Unknown error";return(0,a.A)(s?.statusCode||500,r),null}catch(e){return(0,a.A)(500,String(e)),null}}static async updateTopic(e,t,s){let r=await this.request("put",`/categories/${e}/topics/${t}`,{title:s});return!!r&&(this.handleResponseMessage(r.statusCode||200,r.message),!0)}static async updateTopicNotes(e,t,s){let r=await this.request("put",`/categories/${e}/topics/${t}/notes`,{content:s});return!!r&&(this.handleResponseMessage(r.statusCode||200,r.message),!0)}static async deleteTopic(e,t){let s=await this.request("delete",`/categories/${e}/topics/${t}`);return!!s&&(this.handleResponseMessage(s.statusCode||200,s.message),!0)}}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},2412:e=>{"use strict";e.exports=require("assert")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3827:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/Desktop/Accounting-Notes/accounting-notes-frontend/src/app/edit/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/Desktop/Accounting-Notes/accounting-notes-frontend/src/app/edit/page.tsx","default")},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4609:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>l,pages:()=>d,routeModule:()=>p,tree:()=>u});var r=s(5239),a=s(8088),n=s(8170),i=s.n(n),o=s(893),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);s.d(t,c);let u={children:["",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3827)),"/home/ubuntu/Desktop/Accounting-Notes/accounting-notes-frontend/src/app/edit/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/home/ubuntu/Desktop/Accounting-Notes/accounting-notes-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/home/ubuntu/Desktop/Accounting-Notes/accounting-notes-frontend/src/app/edit/page.tsx"],l={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/edit/page",pathname:"/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},4735:e=>{"use strict";e.exports=require("events")},4835:(e,t,s)=>{Promise.resolve().then(s.bind(s,9397))},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},7910:e=>{"use strict";e.exports=require("stream")},8043:(e,t,s)=>{Promise.resolve().then(s.bind(s,3827))},8354:e=>{"use strict";e.exports=require("util")},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9274:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var r=s(5803),a=s(2927);class n{constructor(){}static handleError(e){let t=e.response?.status||500,s=Array.isArray(e.response?.data?.message)?e.response?.data?.message[0]:e.response?.data?.message||"Unknown error";(0,a.A)(t,s)}static handleResponseMessage(e,t){let s=Array.isArray(t)?t[0]:t||"OK";(0,a.A)(e,s)}static async request(e,t,s){try{let a;switch(e){case"get":a=await r.A.get(t);break;case"post":a=await r.A.post(t,s);break;case"put":a=await r.A.put(t,s);break;case"delete":a=await r.A.delete(t);break;default:throw Error("Unsupported method")}return a.data}catch(e){return this.handleError(e),null}}static async fetchCategories(){try{let e=await this.request("get","/categories");if(e&&200===e.statusCode&&e.data)return e.data;let t=e?.message?.[0]||"Unknown error";return(0,a.A)(e?.statusCode||500,t),[]}catch(e){return(0,a.A)(500,String(e)),[]}}static async createCategory(e){let t=await this.request("post","/categories",{name:e});return!!t&&(this.handleResponseMessage(t.statusCode||200,t.message),!0)}static async updateCategory(e,t){let s=await this.request("put",`/categories/${e}`,{name:t});return!!s&&(this.handleResponseMessage(s.statusCode||200,s.message),!0)}static async deleteCategory(e){let t=await this.request("delete",`/categories/${e}`);return!!t&&(this.handleResponseMessage(t.statusCode||200,t.message),!0)}}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9397:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(687),a=s(3210);s(8754);var n=s(6189),i=s(4724);s(209);var o=s(8437),c=s(2927),u=s(9274),d=s(363);function l(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(!0),[l,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[y,v]=(0,a.useState)(null),[f,w]=(0,a.useState)(null);function A(){y?(v(""),w(null)):(g("Main Body"),x("Kategorie"),v(""),w(null),sessionStorage.setItem("activeCategory","Main Body"),sessionStorage.setItem("activeCategoryName","Kategorie")),sessionStorage.removeItem("activeTopic"),sessionStorage.removeItem("activeTopicName")}async function b(){try{y&&f&&h?await d.s.updateTopic(h,y,f)&&(A(),e.push("/")):h&&m?await u.v.updateCategory(h,m)&&(A(),e.push("/")):(A(),e.push("/"))}catch(s){let e=s.response?.status||500,t=s.response?.data?.message?.[0]||"Unknown error";(0,c.A)(e,t),sessionStorage.setItem("adminStatus","false")}}return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{isAdminOn:l,visible:!1,activeCategory:h,activeCategoryName:m,activeTopic:y,activeTopicName:f,updateSelection:(e,t,s,r)=>{g(e),x(t),v(s),w(r)}}),(0,r.jsx)("main",{children:(0,r.jsx)(o.A,{})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{isAdminOn:l,visible:!1,activeCategory:h,activeCategoryName:m,activeTopic:y,activeTopicName:f,updateSelection:(e,t,s,r)=>{g(e),x(t),v(s),w(r)}}),(0,r.jsx)("main",{children:(0,r.jsx)("div",{className:"form",children:(0,r.jsxs)("div",{className:"formTable no-select",children:[y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"title",children:"Temat"}),(0,r.jsx)("textarea",{id:"textarea",name:"textarea",className:"inputCustomText",value:f||"",onChange:e=>w(e.target.value),placeholder:"Wprowadź tekst..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"title",children:"Kategoria"}),(0,r.jsx)("textarea",{id:"textarea",name:"textarea",className:"inputCustomText",value:m||"",onChange:e=>x(e.target.value),placeholder:"Wprowadź tekst..."})]}),(0,r.jsxs)("div",{className:"btnsSwitchPopUp",style:{marginTop:"20px"},children:[(0,r.jsx)("button",{style:{width:"200px",maxWidth:"200px"},className:"btnSwicthPopUp confirm",onClick:b,children:"Aktualizować"}),(0,r.jsx)("button",{style:{width:"120px",maxWidth:"120px"},className:"btnSwicthPopUp cancel-on-white",onClick:function(){A(),e.push("/")},children:"Anuluj"})]})]})})})]})}},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[285,560,541],()=>s(4609));module.exports=r})();